export class ProductUtils {
  static getMockProducts() {
    return {
      data: [
      {
        name: "[Producto Ventas Wp] Producto base",
        var_ns: "f174417v6167515",
        var_type: "array",
        description: "",
        value: JSON.stringify({
          informacion_de_producto: {
            id: "",
            nombre: "",
            precio: "",
            id_dropi: "",
            tipo: "",
            imagen: "",
            estado: ""
          },
          embudo_de_ventas: {
            mensaje_inicial: "",
            imagen_1: "",
            pregunta_de_entrada: ""
          },
          prompt: {
            tipo_de_prompt: "",
            prompt_libre: "",
            prompt_guiado_contextualizacion: "",
            prompt_guiado_ficha_tecnica: "",
            prompt_guiado_guion_conversacional: "",
            prompt_guiado_posibles_situaciones: "",
            prompt_guiado_reglas: ""
          },
          voz_con_ia: {
            id: "",
            api_key: "",
            estabilidad: "",
            similaridad: "",
            estilo: "",
            speaker_boost: ""
          },
          recordatorios: {
            tiempo_1: "",
            mensaje_1: "",
            tiempo_2: "",
            mensaje_2: "",
            horario_minimo: "",
            horario_maximo: ""
          },
          remarketing: {
            tiempo_1: "",
            plantilla_1: "",
            tiempo_2: "",
            plantilla_2: ""
          },
          activadores_del_flujo: {
            palabras_clave: "",
            ids_de_anuncio: ""
          }
        }),
        is_template_field: false
      },
      {
        name: "[Producto Ventas Wp] Perfume de carro",
        var_ns: "f174417v6166583",
        var_type: "array",
        description: "",
        value: JSON.stringify({
          informacion_de_producto: {
            id: "",
            nombre: "Perfume de carro",
            precio: "",
            id_dropi: "",
            tipo: "",
            imagen: "",
            estado: ""
          },
          embudo_de_ventas: {
            mensaje_inicial: "",
            imagen_1: "",
            pregunta_de_entrada: ""
          },
          prompt: {
            tipo_de_prompt: "libre",
            prompt_libre: "Escribe una recomendación de un perfume para carro con aroma sofisticado.\nEnfatiza la sensación de frescura y lujo que deja al entrar al vehículo.\nDescribe el tipo de persona que lo usaría.\nUsa un tono elegante, persuasivo y sensorial.\nEvita hablar de descuentos o promociones.",
            prompt_guiado_contextualizacion: "",
            prompt_guiado_ficha_tecnica: "",
            prompt_guiado_guion_conversacional: "",
            prompt_guiado_posibles_situaciones: "",
            prompt_guiado_reglas: ""
          },
          voz_con_ia: {
            id: "",
            api_key: "",
            estabilidad: "",
            similaridad: "",
            estilo: "",
            speaker_boost: ""
          },
          recordatorios: {
            tiempo_1: "",
            mensaje_1: "",
            tiempo_2: "",
            mensaje_2: "",
            horario_minimo: "",
            horario_maximo: ""
          },
          remarketing: {
            tiempo_1: "",
            plantilla_1: "",
            tiempo_2: "",
            plantilla_2: ""
          },
          activadores_del_flujo: {
            palabras_clave: "perfume para carro, aroma duradero, ambientador elegante",
            ids_de_anuncio: ""
          }
        }),
        is_template_field: false
      },
      {
        name: "[Producto Ventas Wp] Peluche nutria",
        var_ns: "f174417v6166581",
        var_type: "array",
        description: "",
        value: JSON.stringify({
          informacion_de_producto: {
            id: "7798989",
            nombre: "Carro parte",
            precio: "30000",
            id_dropi: "",
            tipo: "si",
            imagen: "",
            estado: ""
          },
          embudo_de_ventas: {
            mensaje_inicial: "",
            imagen_1: "",
            pregunta_de_entrada: ""
          },
          prompt: {
            tipo_de_prompt: "libre",
            prompt_libre: "Imagina que estás recomendando un peluche de nutria perfecto para regalar.",
            prompt_guiado_contextualizacion: "",
            prompt_guiado_ficha_tecnica: "",
            prompt_guiado_guion_conversacional: "",
            prompt_guiado_posibles_situaciones: "",
            prompt_guiado_reglas: ""
          },
          voz_con_ia: {
            id: "",
            api_key: "",
            estabilidad: "",
            similaridad: "",
            estilo: "",
            speaker_boost: ""
          },
          recordatorios: {
            tiempo_1: "",
            mensaje_1: "",
            tiempo_2: "",
            mensaje_2: "",
            horario_minimo: "",
            horario_maximo: ""
          },
          remarketing: {
            tiempo_1: "",
            plantilla_1: "",
            tiempo_2: "",
            plantilla_2: ""
          },
          activadores_del_flujo: {
            palabras_clave: "peluche nutria, regalo tierno, peluche abrazable",
            ids_de_anuncio: ""
          }
        }),
        is_template_field: false
      },
      {
        name: "[Producto Ventas Wp] Carro test",
        var_ns: "f174417v6745497",
        var_type: "array",
        description: "sisisisi",
        value: JSON.stringify({
          informacion_de_producto: {
            id: "15457",
            nombre: "Carro frente",
            precio: "10000",
            id_dropi: "11212121",
            tipo: "si",
            imagen: "",
            estado: ""
          },
          embudo_de_ventas: {
            mensaje_inicial: "Hola buem dia en que puedo servirle?",
            imagen_1: "",
            pregunta_de_entrada: "¿Que tipo de información desea?"
          },
          prompt: {
            tipo_de_prompt: "libre",
            prompt_libre: "Busqueda, respuesta, similaridad, cortesia, etc...",
            prompt_guiado_contextualizacion: "Lorem ipsum dolor sit amet...",
            prompt_guiado_ficha_tecnica: "Lorem ipsum dolor sit amet...",
            prompt_guiado_guion_conversacional: "Lorem ipsum dolor sit amet...",
            prompt_guiado_posibles_situaciones: "Lorem ipsum dolor sit amet...",
            prompt_guiado_reglas: "Lorem ipsum dolor sit amet..."
          },
          voz_con_ia: {
            id: "15156",
            api_key: "4454d8sadasds7we8q9c32c",
            estabilidad: 0.5,
            similaridad: 0.6,
            estilo: 1.0,
            speaker_boost: "false"
          },
          recordatorios: {
            tiempo_1: "15 minutos",
            mensaje_1: "holaolaaa",
            tiempo_2: "35 minutos",
            mensaje_2: "buenassssss",
            horario_minimo: "8am",
            horario_maximo: "5pm"
          },
          remarketing: {
            tiempo_1: "2 horas",
            plantilla_1: "http_dddd",
            tiempo_2: "3 horas",
            plantilla_2: "htpss"
          },
          activadores_del_flujo: {
            palabras_clave: "hola, adios, menos información",
            ids_de_anuncio: "154155, 622, 89898"
          }
        }),
        is_template_field: false
      },
      {
        name: "[Producto Ventas Wp] 12212121",
        var_ns: "f174417v6829657",
        var_type: "array",
        description: "",
        value: JSON.stringify({
          informacion_de_producto: {
            id: "",
            nombre: "test",
            precio: "",
            id_dropi: "",
            tipo: "no",
            imagen: "",
            estado: "inactivo"
          },
          embudo_de_ventas: {
            mensaje_inicial: "¡Hola! Soy Laura, bienvenida a Master Shop.",
            imagen_1: "",
            pregunta_de_entrada: "Gracias por interesarte en nuestro producto. Cuéntanos, ¿desde qué ciudad nos escribes?"
          },
          prompt: {
            tipo_de_prompt: "libre",
            prompt_libre: "",
            prompt_guiado_contextualizacion: "",
            prompt_guiado_ficha_tecnica: "",
            prompt_guiado_guion_conversacional: "",
            prompt_guiado_posibles_situaciones: "",
            prompt_guiado_reglas: ""
          },
          voz_con_ia: {
            id: "",
            api_key: "",
            estabilidad: 0.3,
            similaridad: 0.7,
            estilo: 0.5,
            speaker_boost: "false"
          },
          recordatorios: {
            tiempo_1: 5,
            mensaje_1: "",
            tiempo_2: 10,
            mensaje_2: "",
            horario_minimo: "",
            horario_maximo: ""
          },
          remarketing: {
            tiempo_1: "",
            plantilla_1: "",
            tiempo_2: "",
            plantilla_2: ""
          },
          activadores_del_flujo: {
            palabras_clave: "",
            ids_de_anuncio: ""
          }
        }),
        is_template_field: false
      }
      ],
      links: {
        first: "https://chateapro.app/api/flow/bot-fields?page=1",
        last: "https://chateapro.app/api/flow/bot-fields?page=1",
        prev: null,
        next: null
      },
      meta: {
        current_page: 1,
        from: 1,
        last_page: 1,
        links: [
          {
            url: null,
            label: "&laquo; Previous",
            active: false
          },
          {
            url: "https://chateapro.app/api/flow/bot-fields?page=1",
            label: "1",
            active: true
          },
          {
            url: null,
            label: "Next &raquo;",
            active: false
          }
        ],
        path: "https://chateapro.app/api/flow/bot-fields",
        per_page: 10,
        to: 3,
        total: 3
      },
      status: "ok"
    };
  }

  static parseProductValues(products) {
    return products.map(product => {
      try {
        return {
          ...product,
          parsedValue: JSON.parse(product.value)
        };
      } catch (e) {
        console.error(`Error parsing product ${product.name}:`, e);
        return {
          ...product,
          parsedValue: {}
        };
      }
    });
  }

  static getProductByVarNs(varNs) {
    const mockData = this.getMockProducts();
    const product = mockData.data.find(p => p.var_ns === varNs);
    if (product) {
      try {
        return {
          ...product,
          parsedValue: JSON.parse(product.value)
        };
      } catch (e) {
        console.error(`Error parsing product ${product.name}:`, e);
        return product;
      }
    }
    return null;
  }

  static getProductByName(name) {
    const mockData = this.getMockProducts();
    const product = mockData.data.find(p =>
      p.name.toLowerCase().includes(name.toLowerCase())
    );

    if (product) {
      try {
        return {
          ...product,
          parsedValue: product.value ? JSON.parse(product.value) : {}
        };
      } catch (e) {
        console.error(`Error parsing product ${product.name}:`, e);
        return product;
      }
    }
    return null;
  }
}
